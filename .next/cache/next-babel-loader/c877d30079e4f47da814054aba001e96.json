{"ast":null,"code":"var _jsxFileName = \"/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Edit/Submit.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState, useContext } from \"react\";\nimport Router from \"next/router\"; // Validation\n// Material UI\n\nimport { makeStyles } from \"@material-ui/core/styles\"; // Components\n// Contexts\n\nimport { UserContext } from \"../../contexts/UserContext\"; // Utils\n\nimport { update } from \"./utils/update\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n    width: \"100vw\",\n    overflow: \"scroll\"\n  },\n  textField: {\n    width: \"17rem\",\n    marginTop: \"4rem\",\n    flexGrow: 1,\n    flexShrink: 1\n  },\n  innerWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  header: {\n    textAlign: \"center\",\n    margin: 0,\n    fontWeight: 500,\n    fontFamily: \"Open Sans, sans-serif\"\n  },\n  text: {\n    textAlign: \"center\",\n    width: \"17rem\",\n    margin: 0,\n    marginTop: 35,\n    fontWeight: 500,\n    fontSize: 16,\n    fontFamily: \"Open Sans, sans-serif\"\n  },\n  email: {\n    textAlign: \"center\",\n    width: \"17rem\",\n    margin: 0,\n    marginTop: 30,\n    fontWeight: 700,\n    fontSize: 18,\n    fontFamily: \"Open Sans, sans-serif\"\n  },\n  button: {\n    marginTop: \"3rem\",\n    marginBottom: \"3rem\"\n  }\n}));\n\nfunction Submit({\n  values,\n  submitting,\n  setSubmitting\n}) {\n  const {\n    user,\n    setUser,\n    setAuthenticated,\n    setToken\n  } = useContext(UserContext);\n  const {\n    0: error,\n    1: setError\n  } = useState({\n    value: false,\n    message: \"\"\n  });\n  const data = {\n    firstname: values.firstname,\n    lastname: values.lastname,\n    business: values.business,\n    industry: values.industry,\n    location: values.location,\n    years: values.years,\n    hasSite: values.hasSite,\n    website: values.website,\n    achievements: values.achievements,\n    goals: values.goals,\n    challenges: values.challenges,\n    wish: values.wish\n  };\n  useEffect(() => {\n    setSubmitting(true); // NOTE : reroute to `/home` upon sucessful login\n    // TODO : configure functionality here for `persisted state` later on ...\n\n    update(data, user._id).then(response => {\n      console.log(response); // NOTE : check that response is successful\n\n      if (response.status === \"success\") {\n        setUser(response.data);\n        setSubmitting(false);\n      } else {\n        console.log(response);\n        setError({\n          value: true,\n          message: response.message\n        });\n        setSubmitting(false);\n      }\n    });\n  }, []);\n  const classes = useStyles();\n\n  if (submitting) {\n    return __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 12\n      }\n    }, \"Loading\");\n  }\n\n  if (error.value) {\n    return __jsx(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: classes.innerWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, __jsx(\"h1\", {\n      className: classes.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      className: classes.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, \"Something went slightly wrong, we will reach out to you by email shortly!\")));\n  } else {\n    return __jsx(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: classes.innerWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, __jsx(\"h1\", {\n      className: classes.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, \"Thanks \", user.firstname), __jsx(\"p\", {\n      className: classes.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, \"Your story has been updated\")));\n  }\n}\n\nexport default Submit;","map":{"version":3,"sources":["/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Edit/Submit.js"],"names":["useEffect","useState","useContext","Router","makeStyles","UserContext","update","useStyles","theme","root","display","flexDirection","justifyContent","alignItems","minHeight","width","overflow","textField","marginTop","flexGrow","flexShrink","innerWrapper","header","textAlign","margin","fontWeight","fontFamily","text","fontSize","email","button","marginBottom","Submit","values","submitting","setSubmitting","user","setUser","setAuthenticated","setToken","error","setError","value","message","data","firstname","lastname","business","industry","location","years","hasSite","website","achievements","goals","challenges","wish","_id","then","response","console","log","status","classes"],"mappings":"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","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport Router from \"next/router\";\n// Validation\n\n// Material UI\nimport { makeStyles } from \"@material-ui/core/styles\";\n// Components\n// Contexts\nimport { UserContext } from \"../../contexts/UserContext\";\n// Utils\nimport { update } from \"./utils/update\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n    width: \"100vw\",\n    overflow: \"scroll\",\n  },\n  textField: {\n    width: \"17rem\",\n    marginTop: \"4rem\",\n    flexGrow: 1,\n    flexShrink: 1,\n  },\n  innerWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  header: {\n    textAlign: \"center\",\n    margin: 0,\n    fontWeight: 500,\n    fontFamily: \"Open Sans, sans-serif\",\n  },\n  text: {\n    textAlign: \"center\",\n    width: \"17rem\",\n    margin: 0,\n    marginTop: 35,\n    fontWeight: 500,\n    fontSize: 16,\n    fontFamily: \"Open Sans, sans-serif\",\n  },\n  email: {\n    textAlign: \"center\",\n    width: \"17rem\",\n    margin: 0,\n    marginTop: 30,\n    fontWeight: 700,\n    fontSize: 18,\n    fontFamily: \"Open Sans, sans-serif\",\n  },\n\n  button: {\n    marginTop: \"3rem\",\n    marginBottom: \"3rem\",\n  },\n}));\n\nfunction Submit({ values, submitting, setSubmitting }) {\n  const { user, setUser, setAuthenticated, setToken } = useContext(UserContext);\n\n  const [error, setError] = useState({ value: false, message: \"\" });\n  const data = {\n    firstname: values.firstname,\n    lastname: values.lastname,\n    business: values.business,\n    industry: values.industry,\n    location: values.location,\n    years: values.years,\n    hasSite: values.hasSite,\n    website: values.website,\n    achievements: values.achievements,\n    goals: values.goals,\n    challenges: values.challenges,\n    wish: values.wish,\n  };\n\n  useEffect(() => {\n    setSubmitting(true);\n    // NOTE : reroute to `/home` upon sucessful login\n    // TODO : configure functionality here for `persisted state` later on ...\n    update(data, user._id).then((response) => {\n      console.log(response);\n      // NOTE : check that response is successful\n      if (response.status === \"success\") {\n        setUser(response.data);\n        setSubmitting(false);\n      } else {\n        console.log(response);\n        setError({ value: true, message: response.message });\n        setSubmitting(false);\n      }\n    });\n  }, []);\n\n  const classes = useStyles();\n\n  if (submitting) {\n    return <p>Loading</p>;\n  }\n\n  if (error.value) {\n    return (\n      <div className={classes.root}>\n        <div className={classes.innerWrapper}>\n          <h1 className={classes.header}>Error</h1>\n          <p className={classes.text}>\n            Something went slightly wrong, we will reach out to you by email\n            shortly!\n          </p>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div className={classes.root}>\n        <div className={classes.innerWrapper}>\n          <h1 className={classes.header}>Thanks {user.firstname}</h1>\n          <p className={classes.text}>Your story has been updated</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Submit;\n"]},"metadata":{},"sourceType":"module"}