{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Home/Main.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useContext, useState } from \"react\"; // Material UI\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport { Button, ButtonGroup } from \"@material-ui/core\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\"; // Components\n\nimport MobileCard from \"./MobileCard\";\nimport Carousel from \"./Carousel\";\nimport Search from \"./Search\";\nimport PostCard from \"../Post/Main/Card\";\nimport Posts from \"./Posts\";\nimport Stories from \"./Stories\";\nimport CreatePost from \"../Post/Create/MainProfile\"; // Contexts\n\nimport { UserContext } from \"../../contexts/UserContext\";\nimport { ModalContext } from \"../../contexts/ModalContext\";\nimport Router from \"next/router\"; // Utils\n\nimport { fetchAllUsers } from \"./utils/fetchAllUsers\";\nimport { fetchAllPosts } from \"./utils/fetchAllPosts\"; // Hooks\n\nimport useWitdh from \"../../hooks/useWidth\";\nimport useValidate from \"../../hooks/useValidate\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      minHeight: \"100vh\",\n      marginTop: 150,\n      marginBottom: 75,\n      width: \"100vw\",\n      overflowX: \"hidden\"\n    },\n    textField: {\n      width: \"17rem\",\n      marginTop: 20,\n      flexGrow: 1,\n      flexShrink: 1\n    },\n    contentWrapper: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      backgroundColor: \"white\",\n      borderRadius: 10,\n      margin: 0\n    },\n    innerWrapper: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      backgroundColor: \"white\",\n      borderRadius: 10,\n      margin: 0\n    },\n    header: {\n      textAlign: \"center\",\n      marginBottom: 35,\n      fontSize: 48,\n      fontWeight: 500,\n      fontFamily: \"Playfair Display, serif\",\n      width: \"90vw\"\n    },\n    text: {\n      textAlign: \"center\",\n      width: \"90vw\",\n      margin: 5,\n      fontWeight: 300,\n      fontSize: 22,\n      fontFamily: \"Poppins, serif\"\n    },\n    button: {\n      marginTop: 45,\n      marginBottom: \"3rem\",\n      textTransform: \"none\",\n      paddingTop: 17,\n      paddingBottom: 17,\n      paddingLeft: 55,\n      paddingRight: 55,\n      fontSize: 21,\n      fontFamily: \"Poppins, serif\"\n    },\n    logo: {\n      width: 100,\n      height: \"auto\"\n    },\n    nfb: {\n      width: 100,\n      height: \"auto\"\n    },\n    cardContainer: {\n      display: \"flex\",\n      justifyContent: \"space-evenly\",\n      marginTop: 50,\n      overflowX: \"hidden\",\n      width: \"100%\"\n    },\n    info: {\n      textAlign: \"center\",\n      marginBottom: 25,\n      marginTop: 50,\n      fontSize: 18,\n      fontWeight: 500,\n      fontFamily: \"Poppins, serif\",\n      color: \"black\"\n    },\n    createPost: {\n      position: \"fixed\",\n      bottom: 40,\n      right: 40,\n      fontFamily: \"Noto Sans, sans serif\",\n      textTransform: \"none\"\n    },\n    addIcon: {}\n  };\n});\n\nvar Main = function Main() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      openSnack = _useState[0],\n      setOpenSnack = _useState[1];\n\n  var _useState2 = useState([]),\n      content = _useState2[0],\n      setContent = _useState2[1];\n\n  var _useState3 = useState([]),\n      posts = _useState3[0],\n      setPosts = _useState3[1];\n\n  var _useState4 = useState(true),\n      display = _useState4[0],\n      setDisplay = _useState4[1];\n\n  var _useState5 = useState(\"stories\"),\n      contentDisplay = _useState5[0],\n      setContentDisplay = _useState5[1];\n\n  var _useWitdh = useWitdh(),\n      width = _useWitdh.width,\n      setWidth = _useWitdh.setWidth;\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser,\n      setAuthenticated = _useContext.setAuthenticated,\n      authenticated = _useContext.authenticated,\n      setLoading = _useContext.setLoading;\n\n  var _useContext2 = useContext(ModalContext),\n      setShowProfile = _useContext2.setShowProfile;\n\n  var _useValidate = useValidate(setUser, setAuthenticated, setLoading),\n      validateSession = _useValidate.validateSession; // TODO : Replace with HOC ( I really mean Hook! ) functionality ...\n\n\n  useEffect(function () {\n    setWidth(window.innerWidth);\n  }, []);\n  useEffect(function () {}, [display]);\n  useEffect(function () {\n    if (!user) {\n      validateSession();\n    }\n\n    if (user) {\n      setOpenSnack(true);\n    }\n\n    fetchAllUsers().then(function (response) {\n      console.log(response);\n      setContent(response.data);\n    });\n    fetchAllPosts().then(function (response) {\n      console.log(response);\n      setPosts(response.data.reverse());\n    });\n  }, [user]);\n\n  if (width > 950) {\n    return __jsx(\"div\", {\n      className: classes.root,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }\n    }, __jsx(Snackbar, {\n      open: openSnack,\n      autoHideDuration: 3000,\n      onClose: function onClose() {},\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, __jsx(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      onClose: function onClose() {\n        return setOpenSnack(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, \"Action Succesful\")), __jsx(\"div\", {\n      className: classes.innerWrapper,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }, __jsx(Search, {\n      setDisplay: setDisplay,\n      display: display,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }), __jsx(ButtonGroup, {\n      style: {\n        display: display ? \"block\" : \"none\"\n      },\n      color: \"primary\",\n      \"aria-label\": \"outlined secondary button group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, __jsx(Button, {\n      style: {\n        textTransform: \"none\"\n      },\n      onClick: function onClick() {\n        return setContentDisplay(\"stories\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, \"Stories\"), __jsx(Button, {\n      style: {\n        textTransform: \"none\"\n      },\n      onClick: function onClick() {\n        return setContentDisplay(\"posts\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, \"Posts\")), __jsx(\"div\", {\n      className: classes.contentWrapper,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }, authenticated && contentDisplay === \"posts\" ? __jsx(CreatePost, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }) : null, contentDisplay === \"posts\" ? __jsx(Posts, {\n      display: display,\n      posts: posts,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }) : null, contentDisplay === \"stories\" ? __jsx(Stories, {\n      display: display,\n      content: content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 15\n      }\n    }) : null)), user ? __jsx(Fab, {\n      onClick: function onClick() {\n        return setShowProfile(true);\n      },\n      className: classes.createPost,\n      color: \"primary\",\n      \"aria-label\": \"add\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }, __jsx(AccountCircleIcon, {\n      className: classes.addIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    })) : null);\n  } else {\n    return __jsx(\"div\", {\n      className: classes.root,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: classes.innerWrapper,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }\n    }, content.map(function (user) {\n      return __jsx(MobileCard, {\n        key: user._id,\n        story: user,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 20\n        }\n      });\n    })));\n  }\n};\n\n_s(Main, \"dB/0Ve2Rr5EgwCRHdElLBV+lcIk=\", false, function () {\n  return [useStyles, useWitdh, useValidate];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Home/Main.js"],"names":["useEffect","useContext","useState","makeStyles","Fab","AddIcon","AccountCircleIcon","Button","ButtonGroup","Snackbar","MuiAlert","MobileCard","Carousel","Search","PostCard","Posts","Stories","CreatePost","UserContext","ModalContext","Router","fetchAllUsers","fetchAllPosts","useWitdh","useValidate","useStyles","theme","root","display","flexDirection","alignItems","minHeight","marginTop","marginBottom","width","overflowX","textField","flexGrow","flexShrink","contentWrapper","backgroundColor","borderRadius","margin","innerWrapper","header","textAlign","fontSize","fontWeight","fontFamily","text","button","textTransform","paddingTop","paddingBottom","paddingLeft","paddingRight","logo","height","nfb","cardContainer","justifyContent","info","color","createPost","position","bottom","right","addIcon","Main","classes","openSnack","setOpenSnack","content","setContent","posts","setPosts","setDisplay","contentDisplay","setContentDisplay","setWidth","user","setUser","setAuthenticated","authenticated","setLoading","setShowProfile","validateSession","window","innerWidth","then","response","console","log","data","reverse","map","_id"],"mappings":"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","sourcesContent":["import { useEffect, useContext, useState } from \"react\";\n// Material UI\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport { Button, ButtonGroup } from \"@material-ui/core\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\n// Components\nimport MobileCard from \"./MobileCard\";\nimport Carousel from \"./Carousel\";\nimport Search from \"./Search\";\nimport PostCard from \"../Post/Main/Card\";\nimport Posts from \"./Posts\";\nimport Stories from \"./Stories\";\nimport CreatePost from \"../Post/Create/MainProfile\";\n// Contexts\nimport { UserContext } from \"../../contexts/UserContext\";\nimport { ModalContext } from \"../../contexts/ModalContext\";\nimport Router from \"next/router\";\n// Utils\nimport { fetchAllUsers } from \"./utils/fetchAllUsers\";\nimport { fetchAllPosts } from \"./utils/fetchAllPosts\";\n// Hooks\nimport useWitdh from \"../../hooks/useWidth\";\nimport useValidate from \"../../hooks/useValidate\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n\n    minHeight: \"100vh\",\n    marginTop: 150,\n    marginBottom: 75,\n    width: \"100vw\",\n    overflowX: \"hidden\",\n  },\n\n  textField: {\n    width: \"17rem\",\n    marginTop: 20,\n    flexGrow: 1,\n    flexShrink: 1,\n  },\n\n  contentWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: 10,\n    margin: 0,\n  },\n\n  innerWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: 10,\n    margin: 0,\n  },\n  header: {\n    textAlign: \"center\",\n    marginBottom: 35,\n    fontSize: 48,\n    fontWeight: 500,\n    fontFamily: \"Playfair Display, serif\",\n    width: \"90vw\",\n  },\n  text: {\n    textAlign: \"center\",\n    width: \"90vw\",\n    margin: 5,\n    fontWeight: 300,\n    fontSize: 22,\n    fontFamily: \"Poppins, serif\",\n  },\n\n  button: {\n    marginTop: 45,\n    marginBottom: \"3rem\",\n    textTransform: \"none\",\n    paddingTop: 17,\n    paddingBottom: 17,\n    paddingLeft: 55,\n    paddingRight: 55,\n    fontSize: 21,\n    fontFamily: \"Poppins, serif\",\n  },\n  logo: {\n    width: 100,\n    height: \"auto\",\n  },\n  nfb: {\n    width: 100,\n    height: \"auto\",\n  },\n  cardContainer: {\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    marginTop: 50,\n    overflowX: \"hidden\",\n    width: \"100%\",\n  },\n  info: {\n    textAlign: \"center\",\n    marginBottom: 25,\n    marginTop: 50,\n    fontSize: 18,\n    fontWeight: 500,\n    fontFamily: \"Poppins, serif\",\n    color: \"black\",\n  },\n  createPost: {\n    position: \"fixed\",\n    bottom: 40,\n    right: 40,\n    fontFamily: \"Noto Sans, sans serif\",\n    textTransform: \"none\",\n  },\n  addIcon: {},\n}));\n\nconst Main = () => {\n  const classes = useStyles();\n  const [openSnack, setOpenSnack] = useState(false);\n  const [content, setContent] = useState([]);\n  const [posts, setPosts] = useState([]);\n  const [display, setDisplay] = useState(true);\n  const [contentDisplay, setContentDisplay] = useState(\"stories\");\n  const { width, setWidth } = useWitdh();\n  const {\n    user,\n    setUser,\n    setAuthenticated,\n    authenticated,\n    setLoading,\n  } = useContext(UserContext);\n  const { setShowProfile } = useContext(ModalContext);\n\n  const { validateSession } = useValidate(\n    setUser,\n    setAuthenticated,\n    setLoading\n  );\n\n  // TODO : Replace with HOC ( I really mean Hook! ) functionality ...\n\n  useEffect(() => {\n    setWidth(window.innerWidth);\n  }, []);\n\n  useEffect(() => {}, [display]);\n\n  useEffect(() => {\n    if (!user) {\n      validateSession();\n    }\n\n    if (user) {\n      setOpenSnack(true);\n    }\n\n    fetchAllUsers().then((response) => {\n      console.log(response);\n      setContent(response.data);\n    });\n    fetchAllPosts().then((response) => {\n      console.log(response);\n      setPosts(response.data.reverse());\n    });\n  }, [user]);\n\n  if (width > 950) {\n    return (\n      <div className={classes.root}>\n        <Snackbar open={openSnack} autoHideDuration={3000} onClose={() => {}}>\n          <MuiAlert\n            elevation={6}\n            variant=\"filled\"\n            onClose={() => setOpenSnack(false)}\n          >\n            Action Succesful\n          </MuiAlert>\n        </Snackbar>\n        <div className={classes.innerWrapper}>\n          <Search setDisplay={setDisplay} display={display} />\n          <ButtonGroup\n            style={{ display: display ? \"block\" : \"none\" }}\n            color=\"primary\"\n            aria-label=\"outlined secondary button group\"\n          >\n            <Button\n              style={{ textTransform: \"none\" }}\n              onClick={() => setContentDisplay(\"stories\")}\n            >\n              Stories\n            </Button>\n            <Button\n              style={{ textTransform: \"none\" }}\n              onClick={() => setContentDisplay(\"posts\")}\n            >\n              Posts\n            </Button>\n          </ButtonGroup>\n\n          <div className={classes.contentWrapper}>\n            {authenticated && contentDisplay === \"posts\" ? (\n              <CreatePost />\n            ) : null}\n            {contentDisplay === \"posts\" ? (\n              <Posts display={display} posts={posts} />\n            ) : null}\n\n            {/* {posts.map((post) => {\n            return <PostCard display={display} key={post._id} post={post} />;\n          })} */}\n\n            {/* {contentDisplay === \"search\" ? (\n            <Search setDisplay={setDisplay} />\n          ) : null} */}\n\n            {/* <Search setDisplay={setDisplay} /> */}\n\n            {contentDisplay === \"stories\" ? (\n              <Stories display={display} content={content} />\n            ) : null}\n          </div>\n        </div>\n\n        {user ? (\n          <Fab\n            onClick={() => setShowProfile(true)}\n            className={classes.createPost}\n            color=\"primary\"\n            aria-label=\"add\"\n          >\n            <AccountCircleIcon className={classes.addIcon} />\n          </Fab>\n        ) : null}\n      </div>\n    );\n  } else {\n    return (\n      <div className={classes.root}>\n        <div className={classes.innerWrapper}>\n          {content.map((user) => {\n            return <MobileCard key={user._id} story={user} />;\n          })}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}