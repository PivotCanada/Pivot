{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Post/Create/MainProfile.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext, useState } from \"react\";\nimport Router from \"next/router\"; // Material UI\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\"; // Components\n\nimport UserCard from \"./UserCard\";\nimport Industry from \"./Industry\"; // Contexts\n\nimport { UserContext } from \"../../../contexts/UserContext\";\nimport { ModalContext } from \"../../../contexts/ModalContext\"; // Utils\n\nimport { createPost } from \"./utils/createPost\"; // Hooks\n\nimport useWidth from \"../../../hooks/useWidth\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      minHeight: 75,\n      border: \"1px solid #e0e0e0\",\n      borderRadius: 5,\n      padding: 20,\n      marginTop: 50,\n      marginBottom: 10,\n      width: \"100%\",\n      maxWidth: 500\n    },\n    textField: {\n      width: \"100%\",\n      flexGrow: 1,\n      flexShrink: 1,\n      border: \"none\"\n    },\n    innerWrapper: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      backgroundColor: \"white\",\n      borderRadius: 10\n    },\n    cardWrapper: {\n      display: \"flex\",\n      alignItems: \"start\",\n      backgroundColor: \"white\"\n    },\n    inputWrapper: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"start\",\n      backgroundColor: \"white\",\n      marginLeft: 20,\n      width: \"75%\"\n    },\n    innerinnerWrapper: {\n      display: \"flex\",\n      marginTop: 10,\n      justifyContent: \"space-between\",\n      backgroundColor: \"white\",\n      width: \"100%\"\n    },\n    button: {\n      textTransform: \"none\",\n      marginTop: 21,\n      paddingTop: 3,\n      paddingBottom: 3,\n      paddingLeft: 5,\n      paddingRight: 5,\n      fontSize: 12,\n      width: 80,\n      height: 30,\n      fontFamily: \"Open Sans, sans serif\"\n    }\n  };\n});\n\nvar Main = function Main() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState([]),\n      tags = _useState3[0],\n      setTags = _useState3[1];\n\n  var _useState4 = useState(false),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useContext2 = useContext(ModalContext),\n      setShowCreate = _useContext2.setShowCreate;\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(text) {\n      var post;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              post = {\n                text: text,\n                author: {\n                  _id: user._id,\n                  firstname: user.firstname,\n                  lastname: user.lastname,\n                  photo: user.photo\n                },\n                tags: tags\n              };\n              _context.next = 4;\n              return createPost(post).then(function (response) {\n                console.log(response);\n\n                if (response.status === \"success\") {\n                  setLoading(false);\n                  Router.reload();\n                } else {\n                  setLoading(false);\n                }\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: classes.innerWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.cardWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, __jsx(UserCard, {\n    user: user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: classes.inputWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, __jsx(TextField, {\n    multiline: true,\n    maxRows: 4,\n    className: classes.textField,\n    type: \"text\",\n    label: \"What's on your mind?\",\n    value: text,\n    onChange: function onChange(e) {\n      setText(e.target.value);\n\n      if (e.target.value.length > 0) {\n        setShow(true);\n      } else {\n        setShow(false);\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    style: {\n      display: show ? \"flex\" : \"none\"\n    },\n    className: classes.innerinnerWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, __jsx(Industry, {\n    tags: tags,\n    setTags: setTags,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }), __jsx(Button, {\n    disabled: text.length === 0,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    onClick: function onClick() {\n      return onSubmit(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Create\"))))));\n};\n\n_s(Main, \"Zl5S4189k3Ak8FiXmxaKJNYRSxY=\", false, function () {\n  return [useStyles];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Post/Create/MainProfile.js"],"names":["useContext","useState","Router","makeStyles","TextField","Button","UserCard","Industry","UserContext","ModalContext","createPost","useWidth","useStyles","theme","root","display","flexDirection","minHeight","border","borderRadius","padding","marginTop","marginBottom","width","maxWidth","textField","flexGrow","flexShrink","innerWrapper","justifyContent","backgroundColor","cardWrapper","alignItems","inputWrapper","marginLeft","innerinnerWrapper","button","textTransform","paddingTop","paddingBottom","paddingLeft","paddingRight","fontSize","height","fontFamily","Main","classes","loading","setLoading","text","setText","tags","setTags","show","setShow","user","setShowCreate","onSubmit","post","author","_id","firstname","lastname","photo","then","response","console","log","status","reload","e","target","value","length"],"mappings":"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","sourcesContent":["import { useContext, useState } from \"react\";\nimport Router from \"next/router\";\n// Material UI\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n// Components\nimport UserCard from \"./UserCard\";\nimport Industry from \"./Industry\";\n// Contexts\nimport { UserContext } from \"../../../contexts/UserContext\";\nimport { ModalContext } from \"../../../contexts/ModalContext\";\n\n// Utils\nimport { createPost } from \"./utils/createPost\";\n// Hooks\nimport useWidth from \"../../../hooks/useWidth\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    minHeight: 75,\n\n    border: \"1px solid #e0e0e0\",\n    borderRadius: 5,\n    padding: 20,\n    marginTop: 50,\n    marginBottom: 10,\n    width: \"100%\",\n    maxWidth: 500,\n  },\n  textField: {\n    width: \"100%\",\n    flexGrow: 1,\n    flexShrink: 1,\n\n    border: \"none\",\n  },\n  innerWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n\n    backgroundColor: \"white\",\n    borderRadius: 10,\n  },\n  cardWrapper: {\n    display: \"flex\",\n\n    alignItems: \"start\",\n    backgroundColor: \"white\",\n  },\n  inputWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"start\",\n    backgroundColor: \"white\",\n\n    marginLeft: 20,\n    width: \"75%\",\n  },\n  innerinnerWrapper: {\n    display: \"flex\",\n    marginTop: 10,\n\n    justifyContent: \"space-between\",\n    backgroundColor: \"white\",\n\n    width: \"100%\",\n  },\n  button: {\n    textTransform: \"none\",\n    marginTop: 21,\n    paddingTop: 3,\n    paddingBottom: 3,\n    paddingLeft: 5,\n    paddingRight: 5,\n    fontSize: 12,\n    width: 80,\n    height: 30,\n    fontFamily: \"Open Sans, sans serif\",\n  },\n}));\n\nconst Main = () => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [text, setText] = useState(\"\");\n  const [tags, setTags] = useState([]);\n  const [show, setShow] = useState(false);\n  const { user } = useContext(UserContext);\n  const { setShowCreate } = useContext(ModalContext);\n\n  const onSubmit = async (text) => {\n    setLoading(true);\n\n    let post = {\n      text: text,\n      author: {\n        _id: user._id,\n        firstname: user.firstname,\n        lastname: user.lastname,\n        photo: user.photo,\n      },\n      tags: tags,\n    };\n\n    await createPost(post).then((response) => {\n      console.log(response);\n      if (response.status === \"success\") {\n        setLoading(false);\n        Router.reload();\n      } else {\n        setLoading(false);\n      }\n    });\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.innerWrapper}>\n        <div className={classes.cardWrapper}>\n          <UserCard user={user} />\n          <div className={classes.inputWrapper}>\n            <TextField\n              multiline\n              maxRows={4}\n              className={classes.textField}\n              type=\"text\"\n              label=\"What's on your mind?\"\n              value={text}\n              onChange={(e) => {\n                setText(e.target.value);\n\n                if (e.target.value.length > 0) {\n                  setShow(true);\n                } else {\n                  setShow(false);\n                }\n              }}\n            />\n            <div\n              style={{ display: show ? \"flex\" : \"none\" }}\n              className={classes.innerinnerWrapper}\n            >\n              <Industry tags={tags} setTags={setTags} />\n              <Button\n                disabled={text.length === 0}\n                variant={\"contained\"}\n                color={\"primary\"}\n                className={classes.button}\n                onClick={() => onSubmit(text)}\n              >\n                Create\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}