{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Post/Main/Card.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from \"react\"; // Material UI\n\nimport Card from \"@material-ui/core/Card\";\nimport Chip from \"@material-ui/core/Chip\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport PublicIcon from \"@material-ui/icons/Public\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport { IconButton, Fab } from \"@material-ui/core\"; // Components\n\nimport Modal from \"../Edit/Modal\"; // Contexts\n\nimport { UserContext } from \"../../../contexts/UserContext\";\nimport { set } from \"js-cookie\"; // Utils\n\nimport { editPost } from \"./utils/editPost\";\nimport { like } from \"./utils/like\";\nimport { unlike } from \"./utils/unlike\";\n\nvar format = function format(text) {\n  var arr = text.split(\" \");\n  var format = \"\";\n\n  if (arr.length > 45) {\n    var i = 0;\n\n    while (i < 45) {\n      if (i === 44) {\n        format += arr[i] + \"...\";\n        ++i;\n      } else {\n        format += arr[i] + \" \";\n        ++i;\n      }\n    }\n  }\n\n  return format;\n};\n\nfunction Preview(_ref) {\n  _s();\n\n  var _this = this;\n\n  var post = _ref.post,\n      display = _ref.display;\n  var useStyles = makeStyles(function (theme) {\n    return {\n      card: {\n        display: display ? \"flex\" : \"none\",\n        flexDirection: \"column\",\n        borderRadius: 3,\n        border: \"1px solid #cccccc\",\n        width: \"100%\",\n        maxWidth: 500,\n        padding: 20,\n        marginBottom: 25\n      },\n      innerWrapper: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\",\n        height: \"100%\",\n        flexWrap: \"wrap\",\n        padding: 0\n      },\n      imageContainer: {\n        display: \"flex\",\n        width: 50,\n        height: 50,\n        alignItems: \"center\"\n      },\n      image: {\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"cover\",\n        borderRadius: \"50%\"\n      },\n      content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        padding: 0,\n        margin: 0,\n        marginLeft: 10,\n        width: \"70%\"\n      },\n      contentInnerWrapper: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        width: \"500px\"\n      },\n      title: {\n        textDecoration: \"none\",\n        color: \"black\",\n        fontSize: \"38px\",\n        textAlign: \"left\",\n        fontWeight: 700,\n        margin: 0,\n        padding: 0,\n        width: \"90%\"\n      },\n      details: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"80%\",\n        marginLeft: 0\n      },\n      author: {\n        color: \"black\",\n        fontFamily: \"Open Sans, sans-serif\",\n        fontWeight: 700,\n        fontSize: 14,\n        padding: 0,\n        margin: 0,\n        width: \"100%\",\n        textAlign: \"left\",\n        marginBottom: 10,\n        marginTop: 5\n      },\n      authorWrapper: {\n        padding: 0,\n        display: \"flex\",\n        height: 50,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        margin: 0\n      },\n      date: {\n        color: \"black\",\n        fontFamily: \"Frank Ruhl Libre, serif\",\n        fontWeight: 500,\n        fontSize: \"14px\",\n        margin: 0\n      },\n      description: {\n        textDecoration: \"none\",\n        color: \"black\",\n        fontFamily: \"Open Sans, sans serif\",\n        fontWeight: 300,\n        fontSize: 14,\n        width: \"100%\",\n        margin: 0\n      },\n      chip: {\n        margin: 0,\n        marginRight: 5,\n        fontFamily: \"Open Sans, sans serif\",\n        fontWeight: 700,\n        fontSize: 10,\n        \"&:hover\": {\n          opacity: 0.5,\n          cursor: \"pointer\"\n        }\n      },\n      chipArray: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        width: \"100%\",\n        marginTop: 15\n      },\n      button: {\n        padding: 3,\n        width: 100,\n        textTransform: \"none\"\n      },\n      arrow: {\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      arrowIcon: {},\n      buttonsWrapper: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: 95,\n        marginTop: 25\n      }\n    };\n  });\n  console.log(post);\n\n  var checkFavourited = function checkFavourited(user, post) {\n    if (user === null) {\n      return null;\n    }\n\n    var val = false;\n    post.likes.forEach(function (like) {\n      if (like.user_id === user._id) {\n        val = true;\n      }\n    });\n    return val;\n  };\n\n  var classes = useStyles();\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(checkFavourited(user, post)),\n      fav = _useState2[0],\n      setFav = _useState2[1];\n\n  var author = post.author;\n  var def = \"https://images.unsplash.com/photo-1493397212122-2b85dda8106b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1351&q=80\";\n\n  var removeLike = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user) {\n      var id, arr, update, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              id = post._id;\n              arr = post.likes.filter(function (like) {\n                like.user_id !== user._id;\n              });\n              update = {\n                text: post.text,\n                author: post.author,\n                tags: post.tags,\n                likes: arr\n              };\n              data = {\n                post: post\n              };\n              _context2.next = 6;\n              return editPost(update, id).then( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          console.log(response);\n\n                          if (!(response.status === \"success\")) {\n                            _context.next = 6;\n                            break;\n                          }\n\n                          _context.next = 4;\n                          return unlike(data, user._id).then(function (response) {\n                            console.log(response);\n\n                            if (response.status === \"success\") {\n                              setFav(false);\n                            }\n                          });\n\n                        case 4:\n                          _context.next = 6;\n                          break;\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function removeLike(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var addLike = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(user) {\n      var id, user_info, arr, update, data;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              id = post._id;\n              user_info = {\n                user_id: user._id,\n                firstname: user.firstname,\n                lastname: user.lastname\n              };\n              arr = post.likes;\n              arr.push(user_info);\n              update = {\n                text: post.text,\n                author: post.author,\n                tags: post.tags,\n                likes: arr\n              };\n              data = {\n                post: post\n              };\n              _context4.next = 8;\n              return editPost(update, id).then( /*#__PURE__*/function () {\n                var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(response) {\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          console.log(response);\n\n                          if (!(response.status === \"success\")) {\n                            _context3.next = 6;\n                            break;\n                          }\n\n                          _context3.next = 4;\n                          return like(data, user._id).then(function (response) {\n                            console.log(response);\n\n                            if (response.status === \"success\") {\n                              setFav(true);\n                            }\n                          });\n\n                        case 4:\n                          _context3.next = 6;\n                          break;\n\n                        case 6:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function addLike(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  if (post) {\n    if (user) {\n      return __jsx(\"div\", {\n        className: classes.card,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 9\n        }\n      }, __jsx(Modal, {\n        open: open,\n        setOpen: setOpen,\n        post: post,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }\n      }), __jsx(\"div\", {\n        className: classes.innerWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        className: classes.imageContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }\n      }, __jsx(\"img\", {\n        className: classes.image,\n        src: author.photo ? author.photo : def,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 15\n        }\n      })), __jsx(\"div\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }\n      }, __jsx(\"h2\", {\n        className: classes.author,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }\n      }, author.firstname, \" \", author.lastname), __jsx(\"p\", {\n        className: classes.description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 15\n        }\n      }, post.text), __jsx(\"div\", {\n        className: classes.chipArray,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }\n      }, post.tags.map(function (tag) {\n        return __jsx(\"p\", {\n          key: tag.name,\n          className: classes.chip,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 21\n          }\n        }, tag.name);\n      })), __jsx(\"div\", {\n        className: classes.buttonsWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 15\n        }\n      }, fav ? __jsx(Fab, {\n        size: \"small\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return removeLike(user);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 19\n        }\n      }, __jsx(FavoriteIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }\n      })) : __jsx(Fab, {\n        size: \"small\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return addLike(user);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 19\n        }\n      }, __jsx(FavoriteBorderIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }\n      })), user._id === author._id ? __jsx(Fab, {\n        size: \"small\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return setOpen(true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 19\n        }\n      }, __jsx(MoreHorizIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }\n      })) : null))));\n    }\n\n    if (user === null) {\n      return __jsx(\"div\", {\n        className: classes.card,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 9\n        }\n      }, __jsx(Modal, {\n        open: open,\n        setOpen: setOpen,\n        post: post,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }\n      }), __jsx(\"div\", {\n        className: classes.innerWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        className: classes.imageContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }\n      }, __jsx(\"img\", {\n        className: classes.image,\n        src: author.photo ? author.photo : def,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 15\n        }\n      })), __jsx(\"div\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }\n      }, __jsx(\"h2\", {\n        className: classes.author,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }\n      }, author.firstname, \" \", author.lastname), __jsx(\"p\", {\n        className: classes.description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 15\n        }\n      }, post.text), __jsx(\"div\", {\n        className: classes.chipArray,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 15\n        }\n      }, post.tags.map(function (tag) {\n        return __jsx(\"p\", {\n          key: tag.name,\n          className: classes.chip,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 21\n          }\n        }, tag.name);\n      })), __jsx(\"div\", {\n        className: classes.buttonsWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 15\n        }\n      }, __jsx(Fab, {\n        size: \"small\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 17\n        }\n      }, __jsx(FavoriteBorderIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 19\n        }\n      }))))));\n    }\n  }\n}\n\n_s(Preview, \"CRN37fAlK7lAYlwFtud38qj2zeY=\", false, function () {\n  return [useStyles];\n});\n\n_c = Preview;\nexport default Preview;\n\nvar _c;\n\n$RefreshReg$(_c, \"Preview\");","map":{"version":3,"sources":["/Users/dalyanparker/Programming/Applications/pivot-front-end/components/Post/Main/Card.js"],"names":["useState","useEffect","useContext","Card","Chip","CardContent","Button","makeStyles","FavoriteIcon","FavoriteBorderIcon","MoreHorizIcon","PublicIcon","RoomIcon","IconButton","Fab","Modal","UserContext","set","editPost","like","unlike","format","text","arr","split","length","i","Preview","post","display","useStyles","theme","card","flexDirection","borderRadius","border","width","maxWidth","padding","marginBottom","innerWrapper","height","flexWrap","imageContainer","alignItems","image","objectFit","content","justifyContent","margin","marginLeft","contentInnerWrapper","title","textDecoration","color","fontSize","textAlign","fontWeight","details","author","fontFamily","marginTop","authorWrapper","date","description","chip","marginRight","opacity","cursor","chipArray","button","textTransform","arrow","arrowIcon","buttonsWrapper","console","log","checkFavourited","user","val","likes","forEach","user_id","_id","classes","open","setOpen","fav","setFav","def","removeLike","id","filter","update","tags","data","then","response","status","addLike","user_info","firstname","lastname","push","photo","map","tag","name"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\n// Material UI\nimport Card from \"@material-ui/core/Card\";\nimport Chip from \"@material-ui/core/Chip\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport PublicIcon from \"@material-ui/icons/Public\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport { IconButton, Fab } from \"@material-ui/core\";\n\n// Components\nimport Modal from \"../Edit/Modal\";\n// Contexts\nimport { UserContext } from \"../../../contexts/UserContext\";\nimport { set } from \"js-cookie\";\n// Utils\nimport { editPost } from \"./utils/editPost\";\nimport { like } from \"./utils/like\";\nimport { unlike } from \"./utils/unlike\";\n\nconst format = (text) => {\n  let arr = text.split(\" \");\n  let format = \"\";\n\n  if (arr.length > 45) {\n    let i = 0;\n    while (i < 45) {\n      if (i === 44) {\n        format += arr[i] + \"...\";\n        ++i;\n      } else {\n        format += arr[i] + \" \";\n        ++i;\n      }\n    }\n  }\n\n  return format;\n};\n\nfunction Preview({ post, display }) {\n  const useStyles = makeStyles((theme) => ({\n    card: {\n      display: display ? \"flex\" : \"none\",\n      flexDirection: \"column\",\n      borderRadius: 3,\n      border: \"1px solid #cccccc\",\n      width: \"100%\",\n      maxWidth: 500,\n\n      padding: 20,\n      marginBottom: 25,\n    },\n\n    innerWrapper: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      width: \"100%\",\n      height: \"100%\",\n      flexWrap: \"wrap\",\n      padding: 0,\n    },\n    imageContainer: {\n      display: \"flex\",\n      width: 50,\n      height: 50,\n      alignItems: \"center\",\n    },\n    image: {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      borderRadius: \"50%\",\n    },\n\n    content: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      padding: 0,\n      margin: 0,\n      marginLeft: 10,\n      width: \"70%\",\n    },\n\n    contentInnerWrapper: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"flex-start\",\n      width: \"500px\",\n    },\n\n    title: {\n      textDecoration: \"none\",\n      color: \"black\",\n\n      fontSize: \"38px\",\n      textAlign: \"left\",\n      fontWeight: 700,\n      margin: 0,\n      padding: 0,\n      width: \"90%\",\n    },\n\n    details: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      width: \"80%\",\n\n      marginLeft: 0,\n    },\n    author: {\n      color: \"black\",\n      fontFamily: \"Open Sans, sans-serif\",\n      fontWeight: 700,\n      fontSize: 14,\n      padding: 0,\n      margin: 0,\n      width: \"100%\",\n      textAlign: \"left\",\n      marginBottom: 10,\n      marginTop: 5,\n    },\n    authorWrapper: {\n      padding: 0,\n      display: \"flex\",\n      height: 50,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n\n      width: \"100%\",\n      margin: 0,\n    },\n    date: {\n      color: \"black\",\n      fontFamily: \"Frank Ruhl Libre, serif\",\n      fontWeight: 500,\n      fontSize: \"14px\",\n      margin: 0,\n    },\n    description: {\n      textDecoration: \"none\",\n      color: \"black\",\n      fontFamily: \"Open Sans, sans serif\",\n      fontWeight: 300,\n      fontSize: 14,\n\n      width: \"100%\",\n      margin: 0,\n    },\n    chip: {\n      margin: 0,\n      marginRight: 5,\n      fontFamily: \"Open Sans, sans serif\",\n      fontWeight: 700,\n      fontSize: 10,\n      \"&:hover\": {\n        opacity: 0.5,\n        cursor: \"pointer\",\n      },\n    },\n    chipArray: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      width: \"100%\",\n      marginTop: 15,\n    },\n    button: {\n      padding: 3,\n      width: 100,\n\n      textTransform: \"none\",\n    },\n    arrow: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    arrowIcon: {},\n\n    buttonsWrapper: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: 95,\n      marginTop: 25,\n    },\n  }));\n\n  console.log(post);\n\n  const checkFavourited = (user, post) => {\n    if (user === null) {\n      return null;\n    }\n\n    let val = false;\n\n    post.likes.forEach((like) => {\n      if (like.user_id === user._id) {\n        val = true;\n      }\n    });\n\n    return val;\n  };\n\n  const classes = useStyles();\n  const { user } = useContext(UserContext);\n  const [open, setOpen] = useState(false);\n  const [fav, setFav] = useState(checkFavourited(user, post));\n\n  const author = post.author;\n  const def =\n    \"https://images.unsplash.com/photo-1493397212122-2b85dda8106b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1351&q=80\";\n\n  const removeLike = async (user) => {\n    let id = post._id;\n\n    let arr = post.likes.filter((like) => {\n      like.user_id !== user._id;\n    });\n\n    let update = {\n      text: post.text,\n      author: post.author,\n      tags: post.tags,\n      likes: arr,\n    };\n\n    let data = {\n      post: post,\n    };\n\n    await editPost(update, id).then(async (response) => {\n      console.log(response);\n      if (response.status === \"success\") {\n        await unlike(data, user._id).then((response) => {\n          console.log(response);\n          if (response.status === \"success\") {\n            setFav(false);\n          }\n        });\n      } else {\n      }\n    });\n  };\n\n  const addLike = async (user) => {\n    let id = post._id;\n\n    let user_info = {\n      user_id: user._id,\n      firstname: user.firstname,\n      lastname: user.lastname,\n    };\n\n    let arr = post.likes;\n\n    arr.push(user_info);\n\n    let update = {\n      text: post.text,\n      author: post.author,\n      tags: post.tags,\n      likes: arr,\n    };\n\n    let data = {\n      post: post,\n    };\n\n    await editPost(update, id).then(async (response) => {\n      console.log(response);\n      if (response.status === \"success\") {\n        await like(data, user._id).then((response) => {\n          console.log(response);\n          if (response.status === \"success\") {\n            setFav(true);\n          }\n        });\n      } else {\n      }\n    });\n  };\n\n  if (post) {\n    if (user) {\n      return (\n        <div className={classes.card}>\n          {/* TODO : Sort out standard way for doing this */}\n          <Modal open={open} setOpen={setOpen} post={post} />\n          <div className={classes.innerWrapper}>\n            <div className={classes.imageContainer}>\n              <img\n                className={classes.image}\n                src={author.photo ? author.photo : def}\n              />\n            </div>\n            <div className={classes.content}>\n              {/* <div className={classes.authorWrapper}> */}\n              <h2 className={classes.author}>\n                {author.firstname} {author.lastname}\n              </h2>\n              {/* </div> */}\n              <p className={classes.description}>{post.text}</p>\n              <div className={classes.chipArray}>\n                {post.tags.map((tag) => {\n                  return (\n                    <p key={tag.name} className={classes.chip}>\n                      {tag.name}\n                    </p>\n                  );\n                })}\n              </div>\n              <div className={classes.buttonsWrapper}>\n                {fav ? (\n                  <Fab\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={() => removeLike(user)}\n                  >\n                    <FavoriteIcon />\n                  </Fab>\n                ) : (\n                  <Fab\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={() => addLike(user)}\n                  >\n                    <FavoriteBorderIcon />\n                  </Fab>\n                )}\n                {user._id === author._id ? (\n                  <Fab\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={() => setOpen(true)}\n                  >\n                    <MoreHorizIcon />\n                  </Fab>\n                ) : null}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    if (user === null) {\n      return (\n        <div className={classes.card}>\n          {/* TODO : Sort out standard way for doing this */}\n          <Modal open={open} setOpen={setOpen} post={post} />\n          <div className={classes.innerWrapper}>\n            <div className={classes.imageContainer}>\n              <img\n                className={classes.image}\n                src={author.photo ? author.photo : def}\n              />\n            </div>\n            <div className={classes.content}>\n              {/* <div className={classes.authorWrapper}> */}\n              <h2 className={classes.author}>\n                {author.firstname} {author.lastname}\n              </h2>\n              {/* </div> */}\n              <p className={classes.description}>{post.text}</p>\n              <div className={classes.chipArray}>\n                {post.tags.map((tag) => {\n                  return (\n                    <p key={tag.name} className={classes.chip}>\n                      {tag.name}\n                    </p>\n                  );\n                })}\n              </div>\n              <div className={classes.buttonsWrapper}>\n                <Fab size=\"small\" color=\"primary\">\n                  <FavoriteBorderIcon />\n                </Fab>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Preview;\n"]},"metadata":{},"sourceType":"module"}